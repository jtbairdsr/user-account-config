# List of plugins
Set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'chriszarate/tmux-tasks' # taskwarrior integration
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'christoomey/vim-tmux-navigator' # smart pane switching with awareness of vim splits
set -g @plugin 'soyuka/tmux-current-pane-hostname'
set -g @plugin 'tmux-plugins/tmux-battery'

set -g @batt_charged_icon       ""
set -g @batt_charging_icon      ""
set -g @batt_attached_icon      ""
set -g @batt_full_charge_icon   ""
set -g @batt_high_charge_icon   ""
set -g @batt_medium_charge_icon ""
set -g @batt_low_charge_icon    ""

source-file ~/.tmux-line.conf

# Task Manager
set -g @task_manager 'taskwarrior'

# Color
set -g @tasks_format_begin '#[fg=white,bg=grey]'
set -g @tasks_format_end '#[fg=white,bg=grey]'

# Icons
set -g @tasks_icon_urgent ' '
set -g @tasks_icon_outstanding '+'

set-option -sg escape-time 10

# zsh is kinda tight
# set-option -g default shell $SHELL

# copy and paster
# set option -g default-command "reattach-to-user-namespace -l zsh" # installed with `brew install reattach-to-user-namespace`

# look good
set -g default-terminal "xterm-256color"


# act like GNU screen
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# more intuitive pane splitting
unbind %
bind-key | split-window -h

bind-key - split-window -v

# act like vim
setw -g mode-keys vi

unbind [
bind ` copy-mode

unbind p
bind p paste-buffer

# bind -t vi-copy v begin-selection

# bind -t vi-copy y copy-selection

# after copying to a tmux buffer, hit y again to copy to clipboard
bind y run "tmux save-buffer - | reattach-to-user-namespace pbcopy"

# quickly edit and reload #tmux coniguration
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"
bind-key M split-window -h "nvim ~/.tmux.conf"

# ========================================== Initialize TMUX plugin manager ============================================
# ---------------------------------- keep this line at the very bottom of .tmux.conf -----------------------------------
run '~/.tmux/plugins/tpm/tpm'

